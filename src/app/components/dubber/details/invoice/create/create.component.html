<h4 class="mb-20">Crea nuova fattura</h4>
<form #data="ngForm" (ngSubmit)="computes(data, $event)" class="form--light bg-light p-all-side-20">
  <section>
    <div class="form-group">
      <label for="film">Seleziona film</label>
      <select name="film" class="form-control" ngModel>
        <option *ngFor="let film of dubber.films" value="{{film.title}}">
          {{film.title}}
        </option>
        <option disabled *ngIf="!dubber.films.length">
          Non ci sono film associati
        </option>
      </select>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col">
          <label for="reference_month">Mese di riferimento</label>
          <select id="reference_month" class="form-control text-capitalize" ngModel name="reference_month">
            <option *ngFor="let month of months" value="{{month.index}}">
              {{month.text}}
            </option>
          </select>
        </div>
        <div class="col">
          <label for="reference_year">Anno di riferimento</label>
          <select id="reference_year" class="form-control text-capitalize" ngModel name="reference_year">
            <option *ngFor="let year of years" value="{{year}}">
              {{year}}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col">
          <label for="work_from">Lavoro svolto dal giorno</label>
          <input type="date" id="work_from" class="form-control" ngModel name="work_from">
        </div>
        <div class="col">
          <label for="work_to">Al giorno</label>
          <input type="date" id="work_to" class="form-control" ngModel name="work_to">
        </div>
        <div class="col">
          <label for="number_of_days">Numero di giorni</label>
          <input type="number" class="form-control" id="number_of_days" ngModel name="number_of_days" maxlength="3" required>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="amount">Importo</label>
      <input type="number" id="amount" class="form-control" placeholder="Importo" ngModel name="amount" required>
    </div>
    <div class="form-group">
      <label for="company">Azienda</label>
      <select id="company" class="form-control" required ngModel name="company_id">
        <option *ngFor="let company of companies" value="{{company.id}}">
          {{company.name}}
        </option>
      </select>
    </div>
    <div class="text-center">
      <button type="submit" class="btn btn-success" [disabled]="!data.valid">Calcola</button>
      <!-- <span class="pl-2 pr-2">or</span>
      <button type="submit" class="btn btn-success" [disabled]="!data.valid">Genera fattura</button> -->
    </div>
  </section>
</form>
<form class="form--light bg-light p-all-side-20">
  <h3 class="mb-20">Dati Enpals/Inps:</h3>
  <div class="form-row mb-20">
    <div class="col-sm-3">
      <label for="quota_enpals_lavoratore">Quota enpals lav.</label>
      <input type="number" id="quota_enpals_lavoratore" class="form-control" [ngModel]="invoice.quota_enpals_lavoratore" name="quota_enpals_lavoratore" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="quota_enpals_ditta">Quota enpals ditta</label>
      <input type="number" id="quota_enpals_ditta" class="form-control" [ngModel]="invoice.quota_enpals_ditta" name="quota_enpals_ditta" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="max_enpals">Massimale enpals</label>
      <input type="number" id="max_enpals" class="form-control" [ngModel]="invoice.max_enpals" name="max_enpals" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="amount_ecc_max">Importo eccedente</label>
      <input type="number" id="amount_ecc_max" class="form-control" [ngModel]="invoice.amount_ecc_max" name="amount_ecc_max" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="quota_enpals_ecc_massimale_lavoratore">Quota enpals ecc. lav.</label>
      <input type="number" id="quota_enpals_ecc_massimale_lavoratore" class="form-control" [ngModel]="invoice.quota_enpals_ecc_massimale_lavoratore" name="quota_enpals_ecc_massimale_lavoratore" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="quota_enpals_ecc_massimale_ditta">Quota enpals ecc. ditta</label>
      <input type="number" id="quota_enpals_ecc_massimale_ditta" class="form-control" [ngModel]="invoice.quota_enpals_ecc_massimale_ditta" name="quota_enpals_ecc_massimale_ditta" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="minimale_inps">Minimale Inps</label>
      <input type="number" id="minimale_inps" class="form-control" [ngModel]="invoice.min_inps" name="min_inps" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="min_contribution_inps">Contrib. min. Inps</label>
      <input type="number" id="min_contribution_inps" class="form-control" [ngModel]="invoice.min_contribution_inps" name="min_contribution_inps" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="additional_rate">Aliquota aggiuntiva</label>
      <input type="number" id="additional_rate" class="form-control" [ngModel]="invoice.additional_rate" name="additional_rate" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="trattenuta_pensione">Trattenuta pensione</label>
      <input type="number" id="trattenuta_pensione" class="form-control" [ngModel]="invoice.trattenuta_pensione" name="trattenuta_pensione" maxlength="10" readonly>
    </div>
    <div class="col-sm-3">
      <label for="total_enpals">Totale enpals</label>
      <input type="number" id="total_enpals" class="form-control" [ngModel]="invoice.total_enpals" name="total_enpals" readonly>
    </div>
  </div>
  <button type="submit" class="btn btn-success" (click)="save()">Salva</button>
</form>
