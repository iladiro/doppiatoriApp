<div class="container" *ngIf="dubber">
  <div class="generalCard card mb-4">
    <div class="generalCard__body">
      <div class="row">
        <div class="col-sm-2">
          <figure class="m-0">
            <img src="/assets/images/user_placeholder_man.png" alt="The Pulpit Rock" class="img-fluid img-thumbnail">
            <h5 class="mt-10 text-capitalize">{{dubber.name}} {{dubber.surname}}</h5>
          </figure>
        </div>
        <div class="col-sm-10">
          <alertMessage [message]="alert_message" *ngIf="alert_message"></alertMessage>
          <modalPrompt [message]="modal_message" (confirm)="setConfirm($event)"></modalPrompt>
          <!-- Nav tabs -->
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="tab" href="#personal-data" role="tab">Dati personali</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#tax-information" role="tab">Informazioni fiscali</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#banks" role="tab">Banche associate</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#collaborations" role="tab">Collaborazioni</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#invoices" role="tab">Fatture</a>
            </li>
          </ul>
          <!-- Tab panes -->
          <div class="tab-content pboth-15">
            <div class="tab-pane active" id="personal-data" role="tabpanel">
              <personal-information [dubber]="this.dubber" (event)="setMessage($event)"></personal-information>
            </div>
            <div class="tab-pane" id="tax-information" role="tabpanel">
              <tax-information [dubber]="this.dubber"></tax-information>
            </div>
            <div class="tab-pane" id="banks" role="tabpanel">
              <banks [dubber]="this.dubber"></banks>
            </div>
            <div class="tab-pane" id="collaborations" role="tabpanel">
              <table class="table table--striped" *ngIf="dubber.films.length; else noFilm">
                <tbody>
                  <tr *ngFor="let film of dubber.films">
                    <td>{{film.title}}</td>
                    <td class="text-right">
                      <a [routerLink]="['/film', film.id]" class="btn btn--dark">
                        <i class="fa fa-info" aria-hidden="true"></i>
                      </a>
                      <button (click)="passCurrentFilm(film)" class="btn btn--dark" data-toggle="modal" data-target="#exampleModal">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <ng-template #noFilm>
                <p class="alert alert-warning">Non ci sono film associati</p>
              </ng-template>
            </div>
            <div class="tab-pane" id="invoices" role="tabpanel">
              <invoiceList [dubber]="this.dubber" (event)="setMessage($event)"></invoiceList>
              <formInvoice [dubber]="this.dubber" (event)="setMessage($event)"></formInvoice>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
