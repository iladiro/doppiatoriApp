<div class="container">
  <alertMessage [message]="alert_message" *ngIf="alert_message"></alertMessage>
  <div class="generalCard card mb-4">
    <div class="generalCard__body">
      <form id="dubberForm" name="form" (ngSubmit)="f.form.valid && create()" #f="ngForm" novalidate class="form--light">
        <fieldset class="pl-0 pr-0">
          <legend>Personal information:</legend>
          <div class="row">
            <div class="col-md-3 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !name.valid }">
                <label for="name">Name</label>
                <input id="name" type="text" class="form-control" placeholder="Name" [(ngModel)]="dubber.name" name="name" #name="ngModel" required>
                <div *ngIf="f.submitted && !name.valid" class="is-invalid">Name field is required</div>
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !surname.valid }">
                <label for="surname">Surname</label>
                <input id="surname" type="text" class="form-control" placeholder="Surname" [(ngModel)]="dubber.surname" name="surname" #surname="ngModel" required>
                <div *ngIf="f.submitted && !surname.valid" class="is-invalid">Surname field is required</div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !fiscal_code.valid }">
                <label for="fiscal_code">Fiscal Code</label>
                <input id="fiscal_code" type="text" class="form-control" placeholder="Fiscal Code" [(ngModel)]="dubber.fiscal_code" name="fiscal_code" #fiscal_code="ngModel" required pattern="^[a-zA-Z]{6}[0-9]{2}[a-zA-Z][0-9]{2}[a-zA-Z][0-9]{3}[a-zA-Z]$">
                <div *ngIf="f.submitted && !fiscal_code.valid" class="is-invalid">Fiscal Code field is required</div>
              </div>
            </div>
            <div class="col-md-2 mb-3">
              <div class="form-group">
                <label for="gender">Gender</label>
                <select name="gender" class="form-control" [(ngModel)]="dubber.gender">
                  <option value="female">
                    Female
                  </option>
                  <option value="male">
                    Male
                  </option>
                </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !birth_date.valid }">
                <label for="birth_date">Date of birth</label>
                <input id="birth_date" type="text" class="form-control" placeholder="GG/MM/AAAA" [(ngModel)]="dubber.birth_date" name="birth_date" #birth_date="ngModel">
                <div *ngIf="f.submitted && !birth_date.valid" class="is-invalid">Date of birth field is required</div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !birth_place.valid }">
                <label for="birth_place">Place of birth</label>
                <input id="birth_place" type="text" class="form-control" placeholder="Place of birth " [(ngModel)]="dubber.birth_place" name="birth_place" #birth_place="ngModel">
                <div *ngIf="f.submitted && !birth_place.valid" class="is-invalid">Place of birth field is required</div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !birth_county.valid }">
                <label for="birth_county">Country of birth</label>
                <input id="birth_county" type="text" class="form-control" placeholder="Country of birth " [(ngModel)]="dubber.birth_county" name="birth_county" #birth_county="ngModel">
                <div *ngIf="f.submitted && !birth_county.valid" class="is-invalid">Country of birth field is required</div>
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset class="pl-0 pr-0">
          <legend>Tax information:</legend>
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !residence_place.valid }">
                <label for="residence_place">Place of residence</label>
                <input id="residence_place" type="text" class="form-control" placeholder="Place of residence" [(ngModel)]="dubber.residence_place" name="residence_place" #residence_place="ngModel" required>
                <div *ngIf="f.submitted && !residence_place.valid" class="is-invalid">Place of residence field is required</div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !residence_address.valid }">
                <label for="residence_address">Address</label>
                <input id="residence_address" type="text" class="form-control" placeholder="Address" [(ngModel)]="dubber.residence_address" name="residence_address" #residence_address="ngModel" required>
                <div *ngIf="f.submitted && !residence_address.valid" class="is-invalid">Address field is required</div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !residence_country.valid }">
                <label for="residence_country">Country of residence</label>
                <input id="residence_country" type="text" class="form-control" placeholder="Country of residence" [(ngModel)]="dubber.residence_country" name="residence_country" #residence_country="ngModel">
                <div *ngIf="f.submitted && !residence_country.valid" class="is-invalid">Country of residence field is required</div>
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset class="pl-0 pr-0">
          <legend>Contacts information:</legend>
          <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !email.valid }">
            <label>Email</label>
            <input id="email" type="email" class="form-control" placeholder="Email" [(ngModel)]="dubber.email" name="email" #email="ngModel" required pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            <div *ngIf="f.submitted && !email.valid" class="is-invalid">Email field is required</div>
          </div>
          <div class="form-group" [ngClass]="{ 'border-warning': f.submitted && !phone.valid }">
            <label>Phone</label>
            <input id="phone" type="phone" class="form-control" placeholder="Phone" [(ngModel)]="dubber.phone" name="phone" #phone="ngModel" required pattern="[0-9]+">
            <div *ngIf="f.submitted && !phone.valid" class="is-invalid">Phone field is required</div>
          </div>
        </fieldset>
        <div class="row mt-30 mb-20">
          <div class="col">
            <back-button></back-button>
          </div>
          <div class="col text-right">
            <button type="submit" class="btn btn-outline-success">Create</button>
            <!-- <button *ngIf="f.submitted" (click)="emptyForm()" class="btn btn-outline-success">Svuota</button> -->
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
