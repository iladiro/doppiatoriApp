<div>
  <h3 class="mt-0 mb-3 weight--light">Costo Enpals mensile</h3>
  <div class="general-card general-card--light card mb-4">
    <h6 class="mb-15">Filtra</h6>
    <form #filtering="ngForm" name="form" class="filtering form-inline">
      <div class="form-row align-items-center">
        <div class="col-auto">
          <select id="reference_month" class="filtering__field form-control mb-2" (change)="onChange()" ngModel name="reference_month">
            <option value="" disabled>Seleziona mese</option>
            <option *ngFor="let month of months" value="{{month.index}}">
              {{month.text}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <select id="reference_year" [disabled]="!selected_month" class="filtering__field form-control mb-2" ngModel name="reference_year">
            <option value="" disabled>Seleziona anno</option>
            <option *ngFor="let year of years" value="{{year}}">
              {{year}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <button type="submit" (click)="search(filtering)" class="filtering__btn btn btn--dark mb-2">Cerca</button>
        </div>
      </div>
    </form>
  </div>
  <div class="general-card general-card--light card mb-4">
    <div class="general-card__body">
      <table  class="table table--striped mb-0" *ngIf="films_list.length; else noResults">
        <thead class="thead--dark">
          <tr>
            <th>Titolo</th>
            <th>Importo Enpals</th>
          </tr>
        </thead>
        <tbody class="form--light">
          <tr *ngFor="let film of films_list">
            <td>{{film.title}}</td>
            <td>{{film.amount_enpals.total_enpals}} &euro;</td>
          </tr>
          <tr>
            <td>
              <strong>Totale Enpals</strong>
            </td>
            <td>
              <strong>{{result_tot_enpals}} &euro;</strong>
            </td>
          </tr>
        </tbody>
      </table>
      <ng-template #noResults>
        <p class="alert alert-warning mb-0">Non ci sono risultati</p>
      </ng-template>
    </div>
  </div>
</div>
