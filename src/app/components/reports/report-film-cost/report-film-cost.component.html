<div>
  <h2 class="mb-3">Costo Enpals Film</h2>
  <div class="general-card card mb-4">
    <h6 class="mb-15">Filtra</h6>
    <form #filtering="ngForm" name="form" class="filtering form-inline">
      <div class="form-row align-items-center">
        <div class="col-auto">
          <select id="reference_year" (change)="onChange($event.target.value)" class="filtering__field form-control mb-2" ngModel name="reference_year">
            <option value="" disabled>Seleziona anno</option>
            <option *ngFor="let year of years" value="{{year}}">
              {{year}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <select id="film_id" [disabled]="!selected_year" class="filtering__field form-control mb-2" ngModel name="film_id">
            <option value="" disabled>Seleziona film</option>
            <option *ngFor="let film of films" value="{{film.film_id}}">
              {{film.film_title}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <button type="submit" (click)="search(filtering)" class="filtering__btn btn btn--dark mb-2">Cerca</button>
        </div>
      </div>
    </form>
  </div>
  <div class="general-card card mb-4">
    <div class="general-card__body">
      <table  class="table table--striped mb-0" *ngIf="result_amount || result_tot_enpals; else noResults">
        <thead class="thead--dark">
          <tr>
            <th>Compensi</th>
            <th>Enpals ditta</th>
          </tr>
        </thead>
        <tbody class="form--light">
        <tr>
          <td>{{result_amount}} &euro;</td>
          <td>{{result_tot_enpals}} &euro;</td>
        </tr>
        </tbody>
      </table>
      <ng-template #noResults>
        <p class="alert alert-warning mb-0">Non ci sono risultati</p>
      </ng-template>
    </div>
  </div>
</div>
