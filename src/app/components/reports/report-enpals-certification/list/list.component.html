<div>
  <h2 class="mb-3">Report Certificazioni Enpals</h2>
  <div class="general-card card mb-4">
    <h6 class="mb-15">Filtra</h6>
    <form #filtering="ngForm" name="form" class="filtering form-inline">
      <div class="form-row align-items-center">
        <div class="col-auto">
          <select id="reference_year" (change)="onChange($event.target.value)" class="filtering__field form-control mb-2" ngModel name="reference_year">
            <option value="" disabled>Seleziona anno</option>
            <option *ngFor="let year of years" value="{{year}}" [selected]="year == date_fullYear">
              {{year}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <select id="dubber_id" [disabled]="!selected_year" class="filtering__field form-control mb-2" ngModel name="dubber">
            <option value="" disabled>Seleziona collaboratore</option>
            <option value="all">Tutti</option>
            <option *ngFor="let dubber of dubbers" value="{{dubber.dubber_id}}">
              {{dubber.dubber_fullname}}
            </option>
          </select>
        </div>
        <div class="col-auto">
          <button type="submit" (click)="search(filtering)" class="filtering__btn btn btn--dark mb-2">Cerca</button>
        </div>
      </div>
    </form>
  </div>
  <div class="general-card card mb-4" *ngIf="list.length > 0">
    <div class="general-card__body">
      <table  class="table table--striped mb-0">
        <thead class="thead--dark">
          <tr>
            <th>Nome & Cognome</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="form--light">
          <tr [data]="current_value" *ngFor="let current_value of list" enpals-certification-list-row></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
