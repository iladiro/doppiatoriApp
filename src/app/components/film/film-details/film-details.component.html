<div class="container" *ngIf="filmService.film">
  <div class="row">
    <div class="col-sm-2">
      <figure>
        <img src="/assets/images/copertina.jpeg" alt="The Pulpit Rock" class="img-fluid img-thumbnail">
        <h5 class="mt-10 text-capitalize">{{filmService.film.title}}</h5>
      </figure>
    </div>
    <div class="col-sm-10">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#informations" role="tab">Informations</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#collaborators" role="tab">Collaborators</a>
        </li>
      </ul>

      <!-- Tab panes -->
      <div class="tab-content pboth-15">
        <div class="tab-pane active" id="informations" role="tabpanel">
          <form #UpdateFilmForm="ngForm" (ngSubmit)="upDateFilm(UpdateFilmForm)">
            <div class="mb-3">
              <label for="title">Title</label>
              <input type="text" id="title" class="form-control" placeholder="Title" [(ngModel)]="filmService.film.title" name="title">
            </div>
            <div class="mb-3">
              <label for="description">Description</label>
              <textarea id="description" rows="10" class="form-control" placeholder="Description" [(ngModel)]="filmService.film.description" name="description" #description="ngModel" required></textarea>
              <div class="alert alert-danger" *ngIf="description.touched && !description.valid">The field is required</div>
            </div>
            <button type="submit" class="btn btn-success">Update film</button>
          </form>
        </div>
        <div class="tab-pane" id="collaborators" role="tabpanel">
          <section class="itemsList" *ngIf="filmService.film.dubbers.length; else noDubbers">
            <div class="itemsList__body">
              <div class="itemsList__body-row row" *ngFor="let dubber of filmService.film.dubbers">
                <div class="col pt-20">
                  {{dubber.name}}
                </div>
                <div class="col text-right">
                  <a [routerLink]="['/dubber', dubber.id]" class="btn btn-outline-primary">
                    <i class="fa fa-info" aria-hidden="true"></i>
                  </a>
                  <button (click)="deleteDubber(dubber.id)" class="btn btn-outline-danger">
                    <i class="fa fa-trash" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
          </section>
          <ng-template #noDubbers>
            <p class="alert alert-warning">There aren't associated dubbers</p>
          </ng-template>
          <form #AddDubberForm="ngForm" (ngSubmit)="addDubberHasParticipated(AddDubberForm)">
            <div class="form-group">
              <label for="exampleFormControlSelect2">Dubbers List</label>
              <select name="dubbers" class="form-control" ngModel name="dubbers">
                <option *ngFor="let dubber of dubberService.dubbersList" value="{{dubber.id}},{{dubber.name}}">
                  {{dubber.name}} {{dubber.surname}}
                </option>
              </select>
            </div>
            <button type="submit" class="btn btn-success">Add</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
